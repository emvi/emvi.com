<header {{if not (get .Content "bg")}}style="background-color: #fff;"{{end}}>
    <div class="content">
        <a href="/" class="logo" title="Emvi">
            <svg xmlns="http://www.w3.org/2000/svg" width="63px" height="22px" viewBox="0 0 63 22" fill="#000"><title>Emvi</title><path d="M62.019 6.705h-3.352V21.79h3.352V6.705zm-1.676-2.096c1.157 0 2.095-.938 2.095-2.095S61.5.419 60.343.419s-2.095.938-2.095 2.095.938 2.095 2.095 2.095zM40.229 6.705l5.553 13.406a3.06 3.06 0 0 0 5.656 0l5.553-13.406h-3.629L48.61 18.177 43.858 6.705h-3.629zM19.276 8.18c1.147-1.03 2.647-1.684 4.191-1.684 1.85 0 3.501.857 4.576 2.195 1.537-1.324 3.674-2.195 5.481-2.195a5.87 5.87 0 0 1 5.867 5.867v9.429h-3.352v-9.219c0-1.62-1.313-2.933-2.933-2.933-2.095 0-3.771 1.676-3.771 3.06v9.093h-3.352v-9.219c0-1.62-1.313-2.933-2.933-2.933-2.095 0-3.771 1.676-3.771 3.06v9.093h-3.352V6.705h3.352V8.18zM3.352 3.352v5.867h8.381v3.352H3.352v5.867H13.41v3.352H0V0h13.41v3.352H3.352z"/></svg>
        </a>
        <div class="menu">
            <div class="lang">
                <a href="#" {{if eq .Page.Language "en"}}class="active"{{end}} data-lang="x-default">EN</a>
                <a href="#" {{if eq .Page.Language "de"}}class="active"{{end}} data-lang="de">DE</a>
            </div>
            <a href="mailto:contact@emvi.com" class="button">{{copy .Page .Content "contact"}}</a>
        </div>
    </div>
</header>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const alternatives = document.querySelectorAll("link[rel='alternate']");

        document.querySelectorAll(".lang > a").forEach(e => {
            e.addEventListener("click", e => {
                e.preventDefault();

                if (!e.target.classList.contains("active")) {
                    const lang = e.target.getAttribute("data-lang");
                    const target = Array.from(alternatives).find(a => a.getAttribute("hreflang") === lang);

                    if (target) {
                        location = target.getAttribute("href");
                    }
                }
            });
        });
    });
</script>
